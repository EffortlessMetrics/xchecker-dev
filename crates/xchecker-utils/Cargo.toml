[package]
name = "xchecker-utils"
version = "1.0.0"
edition = "2024"
publish = false

[features]
test-utils = ["dep:strum"]
dev-tools = []

[dependencies]
anyhow = "1.0.100"
thiserror = "2.0.17"
serde = { version = "=1.0.228", features = ["derive"] }
serde_json = "=1.0.149"
serde_json_canonicalizer = "0.3.1"
blake3 = { version = "=1.8.3", features = ["rayon"] }
chrono = { version = "0.4.43", features = ["serde"] }
regex = "1.12.2"
once_cell = "1.21.3"
sysinfo = "0.37.2"
tempfile = "3.24.0"
camino = "1.2.2"
fd-lock = "4.0.4"
unicode-normalization = "0.1.25"
tracing = "0.1.44"
tracing-subscriber = { version = "0.3.22", features = ["env-filter", "fmt", "json"] }
tokio = { version = "=1.49.0", features = ["full"] }
serde_yaml = { package = "serde_yaml_ng", version = "0.10.0" }
strum = { version = "0.27.2", features = ["derive"], optional = true }

[target.'cfg(unix)'.dependencies]
libc = "0.2.180"
nix = { version = "0.30.1", features = ["signal", "process"] }

[target.'cfg(windows)'.dependencies]
winapi = { version = "0.3.9", features = ["processthreadsapi", "winnt", "handleapi", "psapi", "jobapi2"] }
dunce = "1.0.5"

[target.'cfg(windows)'.dependencies.windows]
version = "0.62.2"
features = [
    "Win32_Foundation",
    "Win32_System_JobObjects",
    "Win32_System_Threading",
    "Win32_Security",
    "Win32_Storage_FileSystem",
]
